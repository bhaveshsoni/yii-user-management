#Configuration options for having Facebook Connect up and running.

= Introduction =

By now this article is a stub. It has the schema, skeleton of the final page. You either can wait for us to complete it or try to follow the schema. In any case we're sure it will work. Well, we hope.

Below you will find the instructions to enable your Yum site to have *Facebook Connect* authentication using the Graph API.

*WARNING:* This code is experimental. Although it works for us, it has not been heavily tested. However is fairly stable.

= Steps to enable Facebook Connect Auth =

== Get a fresh copy of Yum sources ==

svn co, > r210.

== Install and configure Yum ==

See InstallationInstructions on how to create a new Yii application and install and enable Yum on it.



== Yum enabled site configuration ==

=== facebook_id ===

Create a new 'facebook_id' INTEGER profile field.

=== config/main.php configuration ===

=== Enable Facebook Auth ===

== Modify the main view layout ==

=== PHP control code ===

Put this at the very begining of your _main layout_:

{{{
<?php
$fbconfig = Yum::module()->facebookConfig;
if ($fbconfig) {
    Yii::import('application.modules.user.vendors.facebook.*');
	require_once('Facebook.php');
    $facebook = new Facebook($fbconfig);
    $fb_session = $facebook->getSession();
    if($fb_session)
	{
		if(Yii::app()->user->isGuest)
		{
			if($this->createUrl($this->action->id) != '/user/auth/login')
			{
				$this->redirect($this->createUrl('/user/auth/login'));
			}
		}
	}
}
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
}}}

=== Facebook Javascript code ===

=== The (infamous) Facebook Login button ===

==== Alternative login method ====